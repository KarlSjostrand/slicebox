<md-content class="tag-path-form md-padding" layout="column">

    <div layout="row">
        <md-autocomplete flex
                         md-floating-label="Tag"
                         md-search-text="tagText"
                         md-items="keyword in getMatchingTagKeywords(tagText)"
                         md-search-text-change="tagTagChanged(tagText)"
                         md-selected-item-change="tagKeywordSelected(keyword)"
                         md-delay="700"
                         md-min-length="3">
            <md-item-template>
                <span md-highlight-text="tagText">{{keyword}}</span>
            </md-item-template>
        </md-autocomplete>
    </div>

    <div ng-if="!uiState.noNested">
        <div ng-repeat="sequence in uiState.sequences">
            <div layout="row">
                <md-autocomplete flex=85
                                 md-floating-label="Sequence Tag"
                                 md-search-text="seqText"
                                 md-items="keyword in getMatchingSequenceKeywords(seqText)"
                                 md-search-text-change="sequenceTagChanged(seqText, $index)"
                                 md-selected-item-change="sequenceKeywordSelected(keyword, $index)"
                                 md-delay="700"
                                 md-min-length="3">
                    <md-item-template>
                        <span md-highlight-text="seqText">{{keyword}}</span>
                    </md-item-template>
                </md-autocomplete>

                <md-input-container>
                    <label>Item</label>
                    <md-select ng-model="sequence.item"
                               ng-change="sequenceItemChanged($index)">
                        <md-option  ng-value="itemIndex" ng-repeat="itemIndex in uiState.itemIndices">{{itemIndex}}</md-option>
                    </md-select>
                </md-input-container>

                <div class="row">
                    <md-button ng-if="$index < uiState.sequences.length - 1" aria-label="delete" class="md-icon-button"
                               ng-click="removeSequence($index)">
                        <md-icon md-svg-src="/assets/images/ic_clear_24px.svg"></md-icon>
                    </md-button>
                </div>
            </div>
        </div>
    </div>

</md-content>